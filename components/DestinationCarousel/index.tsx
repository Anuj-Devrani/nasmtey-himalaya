import React, { Children, useState } from 'react'
import Slider from 'react-slick'

const DestinationCarousel = ({ children }) => {
  const [slider, setSlider] = useState(null)

  const carouselChildren = Children.toArray(children)
  console.log(carouselChildren)

  const next = () => {
    slider.slickNext()
  }

  const prev = () => {
    slider.slickPrev()
  }

  const settings = {
    dots: false,
    infinite: children.length > 3,
    // speed: 500,
    // fade: false,
    slidesToShow: 3,
    slidesToScroll: 1,
    initialSlide: 1,
    // centerPadding: 0,
    responsive: [
      {
        breakpoint: 1024,
        settings: {
          slidesToShow: 3,
          slidesToScroll: 1,
          infinite: true,
        },
      },
      {
        breakpoint: 600,
        settings: {
          slidesToShow: 3,
          slidesToScroll: 1,
          initialSlide: 1,
        },
      },
      {
        breakpoint: 480,
        settings: {
          slidesToShow: 1,
          slidesToScroll: 1,
        },
      },
    ],
  }
  return (
    <div className="mt-8 md:mt-16">
      <div>
        <Slider ref={(c) => setSlider(c)} {...settings}>
          {Children.map(carouselChildren, (child, index) => {
            return (
              <div className="p-4" key={index}>
                {child}
              </div>
            )
          })}
        </Slider>

        <div className="mt-12 flex justify-center">
          <button onClick={prev} className="w-12 hover:scale-105">
            <svg
              viewBox="0 0 65 64"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clipPath="url(#clip0_100_600)">
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M4.5 32C4.5 39.4261 7.44999 46.548 12.701 51.799C17.952 57.05 25.0739 60 32.5 60C39.9261 60 47.048 57.05 52.299 51.799C57.55 46.548 60.5 39.4261 60.5 32C60.5 24.5739 57.55 17.452 52.299 12.201C47.048 6.94999 39.9261 4 32.5 4C25.0739 4 17.952 6.94999 12.701 12.201C7.44999 17.452 4.5 24.5739 4.5 32ZM64.5 32C64.5 40.4869 61.1286 48.6263 55.1274 54.6274C49.1263 60.6286 40.9869 64 32.5 64C24.0131 64 15.8737 60.6286 9.87258 54.6274C3.87142 48.6263 0.5 40.4869 0.5 32C0.5 23.5131 3.87142 15.3737 9.87258 9.37258C15.8737 3.37142 24.0131 0 32.5 0C40.9869 0 49.1263 3.37142 55.1274 9.37258C61.1286 15.3737 64.5 23.5131 64.5 32ZM46.5 30C47.0304 30 47.5391 30.2107 47.9142 30.5858C48.2893 30.9609 48.5 31.4696 48.5 32C48.5 32.5304 48.2893 33.0391 47.9142 33.4142C47.5391 33.7893 47.0304 34 46.5 34H23.328L31.916 42.584C32.102 42.77 32.2495 42.9907 32.3501 43.2337C32.4507 43.4766 32.5025 43.737 32.5025 44C32.5025 44.263 32.4507 44.5234 32.3501 44.7663C32.2495 45.0093 32.102 45.23 31.916 45.416C31.73 45.602 31.5093 45.7495 31.2663 45.8501C31.0234 45.9507 30.763 46.0025 30.5 46.0025C30.237 46.0025 29.9766 45.9507 29.7337 45.8501C29.4907 45.7495 29.27 45.602 29.084 45.416L17.084 33.416C16.8977 33.2302 16.75 33.0095 16.6491 32.7665C16.5483 32.5236 16.4964 32.2631 16.4964 32C16.4964 31.7369 16.5483 31.4764 16.6491 31.2335C16.75 30.9905 16.8977 30.7698 17.084 30.584L29.084 18.584C29.4595 18.2085 29.9689 17.9975 30.5 17.9975C31.0311 17.9975 31.5405 18.2085 31.916 18.584C32.2915 18.9595 32.5025 19.4689 32.5025 20C32.5025 20.5311 32.2915 21.0405 31.916 21.416L23.328 30H46.5Z"
                  fill="#F66A0A"
                />
              </g>
              <defs>
                <clipPath id="clip0_100_600">
                  <rect
                    width="64"
                    height="64"
                    fill="white"
                    transform="translate(0.5)"
                  />
                </clipPath>
              </defs>
            </svg>
          </button>
          <button onClick={next} className="ml-14 w-12 hover:scale-105">
            <svg
              viewBox="0 0 65 64"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clipPath="url(#clip0_100_604)">
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M4.5 32C4.5 39.4261 7.44999 46.548 12.701 51.799C17.952 57.05 25.0739 60 32.5 60C39.9261 60 47.048 57.05 52.299 51.799C57.55 46.548 60.5 39.4261 60.5 32C60.5 24.5739 57.55 17.452 52.299 12.201C47.048 6.94999 39.9261 4 32.5 4C25.0739 4 17.952 6.94999 12.701 12.201C7.44999 17.452 4.5 24.5739 4.5 32ZM64.5 32C64.5 40.4869 61.1286 48.6263 55.1274 54.6274C49.1263 60.6286 40.9869 64 32.5 64C24.0131 64 15.8737 60.6286 9.87258 54.6274C3.87142 48.6263 0.5 40.4869 0.5 32C0.5 23.5131 3.87142 15.3737 9.87258 9.37258C15.8737 3.37142 24.0131 0 32.5 0C40.9869 0 49.1263 3.37142 55.1274 9.37258C61.1286 15.3737 64.5 23.5131 64.5 32ZM18.5 30C17.9696 30 17.4609 30.2107 17.0858 30.5858C16.7107 30.9609 16.5 31.4696 16.5 32C16.5 32.5304 16.7107 33.0391 17.0858 33.4142C17.4609 33.7893 17.9696 34 18.5 34H41.672L33.084 42.584C32.898 42.77 32.7505 42.9907 32.6499 43.2337C32.5493 43.4766 32.4975 43.737 32.4975 44C32.4975 44.263 32.5493 44.5234 32.6499 44.7663C32.7505 45.0093 32.898 45.23 33.084 45.416C33.27 45.602 33.4907 45.7495 33.7337 45.8501C33.9766 45.9507 34.237 46.0025 34.5 46.0025C34.763 46.0025 35.0234 45.9507 35.2663 45.8501C35.5093 45.7495 35.73 45.602 35.916 45.416L47.916 33.416C48.1023 33.2302 48.25 33.0095 48.3508 32.7665C48.4517 32.5236 48.5036 32.2631 48.5036 32C48.5036 31.7369 48.4517 31.4764 48.3508 31.2335C48.25 30.9905 48.1023 30.7698 47.916 30.584L35.916 18.584C35.73 18.398 35.5093 18.2505 35.2663 18.1499C35.0234 18.0493 34.763 17.9975 34.5 17.9975C34.237 17.9975 33.9766 18.0493 33.7337 18.1499C33.4907 18.2505 33.27 18.398 33.084 18.584C32.898 18.77 32.7505 18.9907 32.6499 19.2337C32.5493 19.4766 32.4975 19.737 32.4975 20C32.4975 20.263 32.5493 20.5234 32.6499 20.7663C32.7505 21.0093 32.898 21.23 33.084 21.416L41.672 30H18.5Z"
                  fill="#F66A0A"
                />
              </g>
              <defs>
                <clipPath id="clip0_100_604">
                  <rect
                    width="64"
                    height="64"
                    fill="white"
                    transform="translate(0.5)"
                  />
                </clipPath>
              </defs>
            </svg>
          </button>
        </div>
      </div>
    </div>
  )
}

export default DestinationCarousel
